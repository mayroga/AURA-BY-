<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AURA by May Roga LLC</title>

<style>
body{font-family:'Segoe UI',Arial;background:#000;color:#fff;margin:0;text-align:center}
.marquee{background:#001a33;border-bottom:2px solid #00d4ff;overflow:hidden;white-space:nowrap;padding:15px 0}
.marquee-content{display:inline-block;animation:scroll 35s linear infinite;color:#00d4ff;font-weight:900;font-size:1.2rem}
@keyframes scroll{from{transform:translateX(0)}to{transform:translateX(-50%)}}
.container{max-width:950px;margin:auto;padding:25px;border:3px solid #00d4ff;border-radius:40px;background:#080808;margin-top:10px}
.yellow{color:#ffff00;font-weight:bold;font-size:1.5rem}
.search-hero{font-size:1.3rem;color:#00d4ff;font-weight:bold;margin:20px 0;border:1px dashed #00d4ff;padding:20px;border-radius:20px;line-height:1.5}
.plan-card{border:2px solid #00d4ff;border-radius:20px;padding:15px;margin:10px;display:inline-block;width:28%;background:#0a0a0a}
.btn-pay{background:#00d4ff;color:#000;border:none;padding:15px;border-radius:12px;font-weight:bold;cursor:pointer;width:100%;font-size:1.1rem}
input{padding:18px;border-radius:15px;border:2px solid #00d4ff;background:#000;color:#fff;margin:10px;font-size:1.2rem;width:100%}
.res-box{text-align:left;padding:25px;border:1px dashed #00d4ff;background:#050505;margin-top:25px;font-size:1.1rem;line-height:1.6;display:none;border-radius:20px}
.clear-btn{margin-top:5px;background:#333;color:#00d4ff;border:1px solid #00d4ff;border-radius:8px;padding:6px 12px;cursor:pointer}
.btn-ex{padding:12px;border-radius:10px;border:none;font-weight:bold;cursor:pointer;margin:5px}
#geo-txt{color:#ffff00;font-size:.9rem;margin-bottom:10px;font-weight:bold}
.map-btn{display:block;background:#ff4d4d;color:white;padding:15px;border-radius:15px;text-decoration:none;font-weight:bold;margin-top:15px}
.doubt-section{margin-top:20px;border:2px solid #ffff00;padding:20px;border-radius:25px;display:none}
</style>
</head>

<body>

<div class="marquee">
  <div class="marquee-content" data-i18n="marquee"></div>
</div>

<div class="container">
<h1 style="color:#00d4ff;font-size:4rem;margin:0">AURA</h1>
<div class="yellow" data-i18n="by"></div>

<div class="search-hero" data-i18n="hero"></div>

<div>
<button class="btn-ex" onclick="setLang('es')">ES</button>
<button class="btn-ex" onclick="setLang('en')">EN</button>
<button class="btn-ex" onclick="setLang('ht')">CREOL</button>
</div>

<div id="paywall">
<div class="plan-card">
<h4 data-i18n="plan_fast"></h4>
<p>$5.99</p>
<button class="btn-pay" onclick="pagar('rapido')" data-i18n="pay"></button>
</div>

<div class="plan-card">
<h4 data-i18n="plan_std"></h4>
<p>$9.99</p>
<button class="btn-pay" onclick="pagar('standard')" data-i18n="pay"></button>
</div>

<div class="plan-card">
<h4 data-i18n="plan_sp"></h4>
<p>$19.99</p>
<button class="btn-pay" onclick="pagar('special')" data-i18n="pay"></button>
</div>
</div>

<div id="sistema-aura" style="display:none">
<div id="geo-txt"></div>

<input id="q" data-i18n-placeholder="input">
<button class="clear-btn" onclick="q.value=''" data-i18n="clear"></button>

<button class="btn-pay" onclick="getEstimate()" data-i18n="reveal"></button>

<div id="res" class="res-box"></div>

<a id="map-link" class="map-btn" target="_blank" style="display:none" data-i18n="map"></a>

<div id="doubt-section" class="doubt-section">
<h3 data-i18n="doubt_title"></h3>
<input id="doubt-q" data-i18n-placeholder="doubt_ph">
<button class="btn-pay" onclick="askAura()" data-i18n="doubt_btn"></button>
<div id="doubt-res"></div>
</div>
</div>
</div>

<script>
/* ================= I18N ================= */
const I18N={
es:{
marquee:"AURA BY MAY ROGA LLC â€¢ PRECIOS MÃ‰DICOS â€¢ TRANSPARENCIA TOTAL â€¢",
by:"by May Roga LLC",
hero:"Consulta precios mÃ©dicos y dentales reales en USA.",
plan_fast:"C. RÃPIDA",
plan_std:"STANDARD",
plan_sp:"ESPECIAL",
pay:"PAGAR ACCESO",
input:"Procedimiento, sÃ­ntoma o cÃ³digo (ej: MRI, D2750)",
clear:"BORRAR",
reveal:"REVELAR COMPARATIVA AURA",
map:"ðŸ“ VER CLÃNICAS EN GOOGLE MAPS",
doubt_title:"Â¿TIENE DUDAS SOBRE ESTE REPORTE?",
doubt_ph:"Escriba su pregunta...",
doubt_btn:"ACLARAR DUDA"
},
en:{
marquee:"AURA BY MAY ROGA LLC â€¢ MEDICAL PRICING â€¢ FULL TRANSPARENCY â€¢",
by:"by May Roga LLC",
hero:"Check real medical and dental prices in the USA.",
plan_fast:"FAST",
plan_std:"STANDARD",
plan_sp:"SPECIAL",
pay:"PAY ACCESS",
input:"Procedure, symptom or code (e.g. MRI, D2750)",
clear:"CLEAR",
reveal:"REVEAL AURA REPORT",
map:"ðŸ“ VIEW CLINICS ON GOOGLE MAPS",
doubt_title:"DO YOU HAVE QUESTIONS?",
doubt_ph:"Write your question...",
doubt_btn:"CLARIFY QUESTION"
},
ht:{
marquee:"AURA â€¢ PRI MEDIKAL â€¢ TRANSPARANS TOTAL â€¢",
by:"pa May Roga LLC",
hero:"Konnen pri medikal ak dantÃ¨ Ozetazini.",
plan_fast:"VIT",
plan_std:"ESTANDA",
plan_sp:"ESPESYAL",
pay:"PEYE AKSÃˆ",
input:"Pwosedi, sentÃ²m oswa kÃ²d",
clear:"EFACE",
reveal:"AFICHE RAPÃ’ AURA",
map:"ðŸ“ GADE KLINIK SOU GOOGLE MAPS",
doubt_title:"OU GEN KESYON?",
doubt_ph:"Ekri kestyon ou...",
doubt_btn:"KLARIFYE"
}
};

let currentLang=localStorage.getItem("lang")||"es";

function applyLang(){
document.querySelectorAll("[data-i18n]").forEach(e=>e.innerText=I18N[currentLang][e.dataset.i18n]);
document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>e.placeholder=I18N[currentLang][e.dataset.i18nPlaceholder]);
}
function setLang(l){currentLang=l;localStorage.setItem("lang",l);applyLang();}
applyLang();

/* ================= GEO ================= */
let userZip="";
navigator.geolocation?.getCurrentPosition(async p=>{
const r=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${p.coords.latitude}&longitude=${p.coords.longitude}`);
const d=await r.json();
userZip=d.postcode||"";
geo-txt.innerText=userZip?`ZIP ${userZip}`:"USA";
});

/* ================= STRIPE ================= */
const PRICE_IDS={
rapido:"price_1Snam1BOA5mT4t0PuVhT2ZIq",
standard:"price_1SnaqMBOA5mT4t0PppRG2PuE",
special:"price_1SnatfBOA5mT4t0PZouWzfpw"
};
async function pagar(plan){
const fd=new FormData();
fd.append("price_id",PRICE_IDS[plan]);
const r=await fetch("/create-checkout-session",{method:"POST",body:fd});
const d=await r.json();
window.location.href=d.url;
}

/* ================= CONSULTA ================= */
async function getEstimate(){
res.style.display="block";
res.innerHTML="Procesando...";
const fd=new FormData();
fd.append("consulta",q.value);
fd.append("lang",currentLang);
fd.append("zip_user",userZip);
const r=await fetch("/estimado",{method:"POST",body:fd});
const d=await r.json();
res.innerHTML=d.resultado;
map-link.href=`https://www.google.com/maps/search/${q.value}+near+${userZip}`;
map-link.style.display="block";
doubt-section.style.display="block";
}
</script>
</body>
</html>
